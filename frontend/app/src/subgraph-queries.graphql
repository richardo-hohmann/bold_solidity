query TrovesByAccount($account: Bytes!) {
  troves(where: { borrower: $account, closedAt: null }) {
    id
    troveId
    borrower
    debt
    deposit
    stake
    interestRate
    createdAt
    closedAt
    collateral {
      id
      token {
        symbol
        name
      }
      minCollRatio
      collIndex
    }
  }
}

query TrovesCount($id: ID!) {
  borrowerInfo(id: $id) {
    troves
    trovesByCollateral
  }
}

query TroveById($id: ID!) {
  trove(id: $id) {
    id
    troveId
    borrower
    debt
    deposit
    stake
    interestRate
    createdAt
    closedAt
    collateral {
      id
      token {
        symbol
        name
      }
      minCollRatio
      collIndex
    }
  }
}

query StabilityPool($id: ID!) {
  stabilityPool(id: $id) {
    id
    totalDeposited
  }
}

query StabilityPoolDepositsByAccount($account: Bytes!) {
  stabilityPoolDeposits(where: { depositor: $account, deposit_gt: 0 }) {
    id
    collateral {
      collIndex
    }
    deposit
    depositor
    snapshot {
      B
      P
      S
      epoch
      scale
    }
  }
}

query StabilityPoolDeposit($id: ID!) {
  stabilityPoolDeposit(id: $id) {
    id
    collateral {
      collIndex
    }
    deposit
    depositor
    snapshot {
      B
      P
      S
      epoch
      scale
    }
  }
}

query StabilityPoolEpochScale($id: ID!) {
  stabilityPoolEpochScale(id: $id) {
    id
    B
    S
  }
}
